# ==========================================
# 1. SERVER CONFIGURATION
# ==========================================
server.port=8080
server.error.include-message=always
server.error.include-binding-errors=always

# ==========================================
# 2. POSTGRESQL CONFIGURATION
# ==========================================
# Crie o banco primeiro: CREATE DATABASE consultorio_db;
spring.datasource.url=jdbc:postgresql://localhost:5432/consultorioOdonto
spring.datasource.username=postgres
spring.datasource.password=Variado1234
spring.datasource.driver-class-name=org.postgresql.Driver
spring.sql.init.platform=postgresql

# Pool de conexões (HikariCP)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000

# ==========================================
# 3. JPA/HIBERNATE CONFIGURATION
# ==========================================
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# ==========================================
# 4. JWT CONFIGURATION (CORREÇÃO DO ERRO)
# ==========================================
# Gere uma chave segura: openssl rand -base64 32
jwt.secret=jwt.secret=VMWC2r7oRa+7rUHfb/x0pcXNtMG/To9shjIewMZ8cWpDeyOMShv/EV5DCr3T7gQDOB66T3ugu798ETjnrrB4sQ==
jwt.access-token.expiration=86400000
jwt.refresh-token.expiration=604800000

# ==========================================
# 5. JWT COOKIES CONFIGURATION
# ==========================================
jwt.cookie.access-token-name=access_token
jwt.cookie.refresh-token-name=refresh_token
jwt.cookie.secure=false
jwt.cookie.domain=

# ==========================================
# 6. CORS CONFIGURATION
# ==========================================
cors.allowed-origins=http://localhost:3000,http://localhost:4200,http://localhost:5173
cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600
cors.exposed-headers=Access-Control-Allow-Origin,Access-Control-Allow-Credentials,Authorization

# ==========================================
# 7. DEVTOOLS (HOT RELOAD)
# ==========================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# ==========================================
# 8. LOGGING
# ==========================================
logging.level.org.springframework.security=DEBUG
logging.level.consultorio=DEBUG